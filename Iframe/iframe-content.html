<!DOCTYPE html>
<html>

<head>
  <meta charset=utf-8" />
  <title>By：DragonDean</title>
  <script src="jquery.js"></script>
  <script type="application/javascript">
    window.onload = function() {
      window.evt = document.createEvent('Event'); //创建一个事件，挂在当前页面的window对象上
      window.evt.initEvent('myEvent', true, true); //初始这个事件
      var obj = document.getElementById('testBtn');
      obj.addEventListener('click', function() { //自定义事件触发的条件，例子中用的点击
        window.evt.test = '测试iframe之间用事件传数据'; //测试传值
        window.dispatchEvent(window.evt); //让自定义事件触发
      }, false);
      console.log(parent, top); //父页面的window对象，iframe嵌入页面自带
    };
  </script>
</head>

<body>
  <button id="testBtn">test</button>
</body>

</html>